# BinaryClassificationMetrics

## pr

[参考](http://en.wikipedia.org/wiki/Precision_and_recall)

```
Returns the precision-recall curve, which is an RDD of (recall, precision)
```

## roc曲线

受试者工作特征曲线（receiver operating characteristic curve）简称ROC曲线，又称感受性曲线（sensitivity curve），得此名的原因在于曲线上各点反映着相同的感受性，它们都是对同一信号刺激的反应，只不过是在几种不同的判定标准下所得的结果而已。

ROC曲线上各点反映的都是相同的感受性，通过对疾病组和参照组的测定结果进行分析，确定测定值的上下限、组距以及截断点，按选择的组距间隔列出累积频数分布表，并分别计算出所有截断点的真阳性率（灵敏度）、特异性和假阳性率（1-特异性），作图绘成ROC曲线。灵敏度(sensitivity)，即敏感度，是指筛检方法能将实际有病的人正确地判定为患者的比例。特异度(specificity)，是指筛检方法能将实际无病的人正确地判定为非患者的比例。



混淆矩阵我们可以得到很多指标：

**真阳性率**(**TPR**)**=TP/(TP+FN)**：实际为阳性预测也为阳性的比例。也称灵敏度(Sensitivity)、召回率（Recall）；

**假阳性率**(**FPR**)**=FP/(FP+TN)**：实际为阴性但预测为阳性的比例；

**真阴性率**(**TNR**)**=TN/(FP+TN)**：实际为阴性预测也为阴性的比例。也称为特异度（Specificity）；

**假阴性率**(**FNR**)**=FN/(TP+FN)**：实际为阳性但预测为阴性的比例；

**准确率**(**ACC**)**=(TP+TN)/(TP+FP+FN+TN)**：预测正确的比例；

**阳性预测值**(**PPV**)**=TP/(TP+FP)**：预测为阳性的结果中实际为阳性的比例。也称精准率(Precision)；

**阴性预测值**(**NPV**)**=TN/(FN+TN)**：预测为阴性的结果中实际为阴性的比例。

ROC曲线是以灵敏度为纵坐标、（1-特异度）为横坐标绘制的曲线。灵敏度（Sensitivity）即真阳性率（TPR），特异度（Specificity）即为真阴性率（TNR），（1-特异度）就是（1-TNR）=FPR，所以ROC曲线横坐标值是假阳性率（FPR），而纵坐标值是真阳性率（TPR）。

### roc曲线中的统计量

**（1）曲线下面积（AUC）**

AUC的值来评价诊断效果，其在1.0和0.5之间。当AUC＞0.5时，AUC越接近于1，说明诊断效果越好：AUC在 0.5～0.7时，准确性较低；在0.7～0.9时，有一定准确性；AUC在0.9以上时，准确性较高。AUC＝0.5时，说明诊断方法完全不起作用，无诊断价值。AUC＜0.5不符合真实情况，在实际中极少出现。 

**（2）约登指数、灵敏度和特异度**

约登指数（Youden Index），也称正确指数，是在假定假阴性（漏诊率）和假阳性（误诊率）的危害性有同等意义时常用的方法，其反映了真正的患者与非患者的总能力。约登指数是灵敏度与特异度的和减去1，约登指数越大说明真实性越大。同时，约登指数最大值对应的检验变量值是该方法的诊断临界值。