# è§†é¢‘

[æ‰¹é‡ä¸‹è½½youtube](https://github.com/shaked6540/YoutubePlaylistDownloader)

## youtube-dl

mac:https://github.com/ytdl-org/youtube-dl

ç”¨æ³•

youtube-dl [OPTIONS] URL [URL...]

å‚æ•°

-i:  è·³è¿‡é”™è¯¯

--flat-playlist ï¼šåˆ—å‡ºè§†é¢‘

--playlist-start NUMBER              Playlist video to start at (default is 1)
--playlist-end NUMBER                Playlist video to end at (default is   last)
--playlist-items ITEM_SPEC         ä¸‹è½½æŒ‡å®šç´¢å¼•çš„è§†é¢‘1-3,7,10-13
-c, --continue        æ–­ç‚¹ä¸‹è½½    

-o æ–‡ä»¶åæ¨¡æ¿ï¼Œä¾‹å¦‚`~/Movies/%(title)s-%(id)s.%(ext)s`



```shell
youtube-dl -i -o '/Users/chengxingfu/Movies/ä¸œä¸œ/caillou/%(playlist_index)s_%(title)s.%(ext)s'  https://www.youtube.com/watch?v=5xMb3X7fDYQ&list=PL8XvIF6dDmUtPLGlvL5sjXAd1IgxV44Gl
```







å‚æ•°å¯ä»¥æ”¾åˆ°é…ç½®æ–‡ä»¶é‡Œï¼Œé»˜è®¤åœ¨/etc/youtube-dl.conf æˆ–è€…~/.config/youtube-dl/configã€‚ 
ä¾‹å¦‚ï¼Œä¸‹é¢çš„é…ç½®æå–éŸ³é¢‘ï¼Œä½¿ç”¨ä»£ç†ï¼ŒæŠŠè§†é¢‘ä¿å­˜åœ¨~/Moviesç›®å½•

```shell
# Always extract audio
-x
# Do not copy the mtime
--no-mtime
# Use this proxy
--proxy 127.0.0.1:3128
# Save all videos under Movies directory in your home directory
-o ~/Movies/%(title)s.%(ext)s
```

[ç”¨ä¾‹å¯ä»¥å‚è€ƒ](https://www.sysgeek.cn/youtube-dl-examples/)

## yt-dlp

### å®‰è£…å’Œå‡çº§

æ˜¯youtube-dlçš„forkç‰ˆï¼Œ[yt-dlp ä»“åº“](https://github.com/yt-dlp/yt-dlp?tab=readme-ov-file#release-files)ï¼Œ ä¸‹è½½

| File                                                         | Description                                                  |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| [yt-dlp](https://github.com/yt-dlp/yt-dlp/releases/latest/download/yt-dlp) | Platform-independent [zipimport](https://docs.python.org/3/library/zipimport.html) binary. Needs Python (recommended for **Linux/BSD**) |
| [yt-dlp.exe](https://github.com/yt-dlp/yt-dlp/releases/latest/download/yt-dlp.exe) | Windows (Win7 SP1+) standalone x64 binary (recommended for **Windows**) |
| [yt-dlp_macos](https://github.com/yt-dlp/yt-dlp/releases/latest/download/yt-dlp_macos) | Universal MacOS (10.15+) standalone executable (recommended for **MacOS**) |

å‡çº§ï¼šyt-dlp -U

```shell
yt-dlp --update-to master switch to the master channel and update to its latest release
yt-dlp --update-to stable@2023.07.06 upgrade/downgrade to release to stable channel tag 2023.07.06
yt-dlp --update-to 2023.10.07 upgrade/downgrade to tag 2023.10.07 if it exists on the current channel
yt-dlp --update-to example/yt-dlp@2023.09.24 upgrade/downgrade to the release from the example/yt-dlp repository, tag 2023.09.24
```

### [ä½¿ç”¨](https://zhuanlan.zhihu.com/p/618467617)

```shell
yt-dlp -i -f 'bv[ext=mp4]+ba[ext=m4a]' --embed-metadata --merge-output-format mp4 -o '/Users/chengxingfu/Movies/new/%(playlist_index)s_%(title)s.%(ext)s' url
```





```shell
yt-dlp -F  https://www.youtube.com/watch\?v\=aR-KAldshAE   æŸ¥çœ‹åˆ†è¾¨ç‡
ID  EXT(æ ¼å¼)   RESOLUTION FPS CH â”‚   FILESIZE    TBR PROTO â”‚ VCODEC           VBR ACODEC      ABR ASR MORE INFO
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
sb3 mhtml 48x27        0    â”‚                   mhtml â”‚ images                                   storyboard
sb2 mhtml 80x45        1    â”‚                   mhtml â”‚ images                                   storyboard
sb1 mhtml 160x90       1    â”‚                   mhtml â”‚ images                                   storyboard
sb0 mhtml 320x180      1    â”‚                   mhtml â”‚ images                                   storyboard
233 mp4   audio only        â”‚                   m3u8  â”‚ audio only           unknown             Default
234 mp4   audio only        â”‚                   m3u8  â”‚ audio only           unknown             Default
139 m4a   audio only      2 â”‚    1.17MiB    49k https â”‚ audio only           mp4a.40.5   49k 22k low, m4a_dash
249 webm  audio only      2 â”‚    1.12MiB    46k https â”‚ audio only           opus        46k 48k low, webm_dash
250 webm  audio only      2 â”‚    1.48MiB    62k https â”‚ audio only           opus        62k 48k low, webm_dash
140 m4a   audio only      2 â”‚    3.12MiB   130k https â”‚ audio only           mp4a.40.2  130k 44k medium, m4a_dash
251 webm  audio only      2 â”‚    2.97MiB   123k https â”‚ audio only           opus       123k 48k medium, webm_dash
602 mp4   256x144     12    â”‚ ~  2.10MiB    87k m3u8  â”‚ vp09.00.10.08    87k video only

# ä¸‹è½½æœ€ä½³mp4è§†é¢‘+æœ€ä½³m4aéŸ³é¢‘æ ¼å¼å¹¶åˆæˆmp4, æµ‹è¯•å‘ç°åˆ†å¼€ä¸‹è½½äº†ï¼Œä½†å¹¶æœªåˆå¹¶,åŸå› æ˜¯æœªå®‰è£…ffmpeg
# ä¸ç¡®å®šæ ¼å¼æ—¶ï¼Œä¹Ÿå¯ä»¥ç”¨bv*+ba*
yt-dlp -f 'bv[ext=mp4]+ba[ext=m4a]' --embed-metadata --merge-output-format mp4 https://www.youtube.com/watch\?v\=aR-KAldshAE       
```

**1.åªä¸‹è½½éŸ³é¢‘**  ä¸€å®šè¦ç”¨å°å†™f

æ‰¾m4aæ ¼å¼ï¼Œåˆ—è¡¨è¶Šé åè¶Šæ¸…æ™°ã€‚æ¯”å¦‚IDï¼š140 | EXTï¼šm4a | audio only

yt-dlp -f140 [https://youtu.be/sKrT6mBrosc](https://link.zhihu.com/?target=https%3A//youtu.be/sKrT6mBrosc)

**2.ä¸‹è½½éŸ³é¢‘è½¬æ¢æˆmp3**ï¼ˆåŠ ä¸Š-x â€“audio-formatå‚æ•°ï¼‰

yt-dlp -f140 -x â€“audio-format mp3 [https://youtu.be/sKrT6mBrosc](https://link.zhihu.com/?target=https%3A//youtu.be/sKrT6mBrosc)

**3.ä¸‹è½½è§†é¢‘ï¼ˆå¸¦éŸ³é¢‘ï¼‰**IDï¼š22 | EXTï¼šmp4 | 1280*720

yt-dlp -f22 [https://youtu.be/sKrT6mBrosc](https://link.zhihu.com/?target=https%3A//youtu.be/sKrT6mBrosc)

**4.ä¸‹è½½æŒ‡å®šåˆ†è¾¨ç‡è§†é¢‘+éŸ³é¢‘**ï¼ˆä¸ºäº†æ–¹ä¾¿å°±ç›´æ¥ä¸‹è½½mp4æ ¼å¼äº†ï¼‰

1080åŠä»¥ä¸Šåˆ†è¾¨ç‡çš„éŸ³é¢‘å’Œè§†é¢‘æ˜¯åˆ†å¼€çš„ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¼šéŸ³é¢‘å’Œè§†é¢‘ä¸€èµ·ä¸‹è½½

yt-dlp -f299+140 [https://youtu.be/sKrT6mBrosc](https://link.zhihu.com/?target=https%3A//youtu.be/sKrT6mBrosc)

5. ä»£ç†æœåŠ¡å™¨ï¼š 

   --proxy socks5://127.0.0.1:10808

å¦‚æœå‡ºç°not matchï¼Œç”¨å•å¼•å·æŠŠutlå¼•èµ·æ¥

### è‡ªå·±å°è£…çš„å·¥å…·

åŠŸèƒ½ï¼š ä»æŒ‡å®šæ–‡ä»¶è¯»å–è·¯å¾„å¹¶ä¸‹è½½åˆ°å½“å‰æ–‡ä»¶å¤¹

```shell
#!/bin/bash

pwd=`pwd`
# æ£€æŸ¥æ˜¯å¦æä¾›äº†æ–‡ä»¶è·¯å¾„ä½œä¸ºå‚æ•°
if [ "$#" -ne 1 ]; then
    echo "Usage: $0 <file_path>"
    exit 1
fi

# è·å–æ–‡ä»¶è·¯å¾„
file_path="$1"

# æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
if [ ! -f "$file_path" ]; then
    echo "File not found: $file_path"
    exit 1
fi

# é€è¡Œè¯»å–æ–‡ä»¶å¹¶æ‰“å°æ¯ä¸€è¡Œ
while IFS= read -r line
do
    echo "$line"

	if [[ $line =~ ^# ]]; then
	    echo "ignore ..."
	else
	    echo "download..."
        yt-dlp -i -f 'bestvideo[ext=mp4]+bestaudio[ext=m4a]/best[ext=mp4]/best' --embed-metadata --merge-output-format mp4 -o "$pwd/%(playlist_index)s_%(title)s.%(ext)s" $line
    fi    
done < "$file_path"

```

è¿™é‡Œ-fä¸­/åˆ†éš”çš„æ˜¯å¤šä¸ªé€‰é¡¹ï¼Œå“ªä¸ªæœ‰å°±ä¸‹è½½å“ªä¸ª

### éŸ³é¢‘ä¸‹è½½

```shell
yt-dlp -i -f 'bestaudio[ext=m4a]' -x â€“audio-format mp3 -o "%(playlist_index)s_%(title)s.%(ext)s" https://www.bilibili.com/video/BV1A5411g7D7/\?vd_source\=fa2aaef8ece31d2c310d46092c301b46
```

audio.sh

```shell
#!/bin/bash
set -eux
pwd=`pwd`
# æ£€æŸ¥æ˜¯å¦æä¾›äº†æ–‡ä»¶è·¯å¾„ä½œä¸ºå‚æ•°
if [ "$#" -ne 1 ]; then
    echo "Usage: $0 <file_path>"
    exit 1
fi

# è·å–æ–‡ä»¶è·¯å¾„
file_path="$1"

# æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
if [ ! -f "$file_path" ]; then
    echo "File not found: $file_path"
    exit 1
fi

# é€è¡Œè¯»å–æ–‡ä»¶å¹¶æ‰“å°æ¯ä¸€è¡Œ
while IFS= read -r line
do
    echo "$line"

    yt-dlp -i -f 'bestaudio[ext=m4a]' -x â€“audio-format mp3 -o "$pwd/%(playlist_index)s_%(title)s.%(ext)s" $line

done < "$file_path"

```

## é—®é¢˜è®°å½•

### [youtube:tab+oauth2] Incomplete yt initial data received

### Playlists that require authentication may not extract correctly without a successful webpage download

```shell
yt-dlp -i -f 'bestvideo[ext=mp4]+bestaudio[ext=m4a]/best[ext=mp4]/best' --embed-metadata --merge-output-format mp4 -o '/Users/chengxingfu/dongdong/xzpq/%(playlist_index)s_%(title)s.%(ext)s' 'https://www.youtube.com/watch?v=Dn6mDoJSrHg&list=PLhBNaOObFw5l8pmdIbNdFbN42lL5rg3Z3'
[youtube:tab+oauth2] Extracting URL: https://www.youtube.com/watch?v=Dn6mDoJSrHg&list=PLhBNaOObFw5l8pmdIbNdFbN42lL5rg3Z3
[youtube:tab+oauth2] Downloading playlist PLhBNaOObFw5l8pmdIbNdFbN42lL5rg3Z3 - add --no-playlist to download just the video Dn6mDoJSrHg
[youtube:tab+oauth2] PLhBNaOObFw5l8pmdIbNdFbN42lL5rg3Z3: Downloading webpage
WARNING: [youtube:tab+oauth2] Unable to download webpage: HTTP Error 429: Too Many Requests (caused by <HTTPError 429: Too Many Requests>)
ERROR: [youtube:tab+oauth2] PLhBNaOObFw5l8pmdIbNdFbN42lL5rg3Z3: Playlists that require authentication may not extract correctly without a successful webpage download. If you are not downloading private content, or your cookies are only for the first account and channel, pass "--extractor-args youtubetab:skip=authcheck" to skip this check
```

### Incomplete yt initial data receivedï¼ŒRequest contains an invalid argument

## ä»–å±±ä¹‹çŸ³

[è¿™é‡Œæœ‰ä¸ªç•Œé¢](https://yowlab.idv.tw/wordpress/?p=2929)ï¼Œ[å¯ä»¥è¯•è¯•åœ¨çº¿ä¸‹è½½](https://colab.research.google.com/drive/1cT1EbJ-T33t5JQriDeGdBIfoDACmH_bG?usp=sharing#scrollTo=-U10L-FaUDPA)ï¼Œè¿˜æä¾›äº†python è„šæœ¬ã€‚

ğŸ“Œå¦‚æœè¦ä¸‹è½½playlistï¼Œéœ€è¦è·å–playlist é“¾æ¥ï¼Œ ä¸èƒ½ç”¨ç¬¬ä¸€ä¸ªè§†é¢‘çš„é“¾æ¥ï¼Œè¿™ä¸€ç‚¹å’Œytb-dl åŸç”Ÿå·¥å…·ä¸åŒã€‚



# slideshareä¸‹è½½

[sliderShare downloader](https://www.slidesdownloader.com/)





# aria2ä¸‹è½½bt

[å‚è€ƒ](https://m.freebuf.com/sectool/244962.html)

```shell
aria2c -c -o owncloud.zip  --max-download-limit=500k https://download.owncloud.org/community/owncloud-9.0.0.tar.bz2
```

-c 	æ–­ç‚¹ä¸‹è½½

-o	è®¾ç½®è¾“å‡ºæ–‡ä»¶ï¼Œ æœ‰é»˜è®¤å€¼

-x2	æ¯ä¸ªä¸»æœºå»ºç«‹ä¸¤æ¡è¿æ¥

-i	 ä»æ–‡ä»¶è¯»å–urlä¸‹è½½ `aria2c -i test-aria2.txt`

# å¾®ä¿¡å…¬ä¼—å·è§†é¢‘ä¸‹è½½

[å‚è€ƒ](https://cloud.tencent.com/developer/article/2319260)ï¼ŒNetwork-Media-åŒå‡»è§†é¢‘é“¾æ¥æ–°å¼€çª—å£-ä¸‹è½½
